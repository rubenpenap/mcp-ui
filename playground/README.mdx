# Navigate to Links

<EpicVideo url="https://www.epicai.pro/workshops/day-5-6-mcp-ui/links-j40ci" />

👨‍💼 Our users want to be able to share how many entries they have in their journal on 𝕏. We can use `postMessage` to send a link to the host application to navigate to the 𝕏 intent page.

Since iframes can't directly navigate their parent window, we need to communicate with the host application. The pattern is:

1. **Generate unique ID** - Create a message ID to match requests with responses
2. **Send message** - Use `window.parent.postMessage()` with type `'link'` and the URL
3. **Listen for response** - Handle the `'ui-message-response'` from the host
4. **Clean up** - Remove event listener when done

The communication pattern looks like:

```ts
// Send request with unique ID
window.parent.postMessage(
	{
		type: 'link',
		messageId: uniqueId,
		payload: { url },
	},
	'*',
)

// Listen for matching response
function handleMessage(event) {
	if (
		event.data.type === 'ui-message-response' &&
		event.data.messageId === uniqueId
	) {
		// Handle success/error
	}
}
```

🧝‍♀️ I've set up the journal viewer with a "Share on X" button that needs to navigate to Twitter's intent page. You'll need to implement the communication function to make this work!

<callout-success>
	🦉 Depending on how comfortable you are with browser APIs, you may struggle
	with following the instructions. However, your AI assistant is really good at
	browser APIs. Just feed it the instructions and you'll be set! If you don't
	understand something, just ask it!
</callout-success>

👨‍💼 Perfect! Let's implement that communication pattern.
